{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/pages/cart/tocheckout.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport Link from 'next/link';\nimport Layout from '../components/layout';\nimport CartInstances from '../components/CartInstances';\nimport { useUserDispatch, useUser } from './contexts/userContext';\nimport { useIns, useInsDispatch } from './contexts/CartContext';\nimport { usefunctions } from './contexts/functionContext';\nimport { useInitial, useInitialDispatch } from './contexts/initialContext';\nimport { formatNumber } from '../utils/utils';\nexport default function ToCheckOut() {\n  _s();\n\n  var _this = this;\n\n  var temp;\n  var user = useUser();\n  var setUser = useUserDispatch();\n\n  var _useIns = useIns(),\n      instances = _useIns.instances,\n      itemCount = _useIns.itemCount,\n      total = _useIns.total;\n\n  var _useInsDispatch = useInsDispatch(),\n      setInstance = _useInsDispatch.setInstance,\n      setInsLen = _useInsDispatch.setInsLen,\n      setItemCount = _useInsDispatch.setItemCount,\n      setTotal = _useInsDispatch.setTotal;\n\n  var _usefunctions = usefunctions(),\n      GetAllCarts = _usefunctions.GetAllCarts,\n      checkdb = _usefunctions.checkdb,\n      toCheckOut = _usefunctions.toCheckOut;\n\n  var setInitial = useInitialDispatch();\n  var inital = useInitial();\n  useEffect(function () {\n    if (!inital) {\n      console.log('I am in intial'); //set user\n\n      if (sessionStorage.getItem('key')) {\n        temp = sessionStorage.getItem('key');\n      } else {\n        temp = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 12);\n        sessionStorage.setItem('key', temp);\n      }\n\n      setUser(temp);\n      user && GetAllCarts(user, setInstance, setInsLen, setItemCount, setTotal).then(function () {\n        setInitial(true);\n      });\n    }\n  }, [user, itemCount]);\n\n  var handleToChk = function handleToChk() {\n    toCheckOut(user, setItemCount, setTotal);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkdb,\n      children: \"check database\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [console.log('instances : ', instances), instances && instances.filter(function (instance) {\n        return instance.check;\n      }).map(function (iteminstance) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col d-flex \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\" //value='true'\n                ,\n                ref: checkEL,\n                defaultChecked: iteminstance.check,\n                onChange: function onChange() {\n                  return handleCheck(iteminstance);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 13\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/store/[id]\",\n                as: \"store/\".concat(iteminstance.item._id),\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-link btn-sm mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    src: \"/\".concat(iteminstance.item.image),\n                    height: 70,\n                    width: 70\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 17\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 15\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 13\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"align-self-center mr-2\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/store/[id]\",\n                as: \"store/\".concat(iteminstance.item._id),\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-link btn-sm  \",\n                  children: iteminstance.item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 15\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 13\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" align-self-center mr-2\",\n              children: [\"unit price: \", formatNumber(iteminstance.item.price)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.inputwraper1,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: function onClick() {\n                  return handleDecrease(iteminstance);\n                },\n                className: styles.minus1,\n                disabled: decdis,\n                children: \"- minus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 13\n              }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                ref: inputEL,\n                onInput: handleCount,\n                onBlur: handlefocus //onChange={handleCount}\n                ,\n                className: styles.input1,\n                defaultValue: iteminstance.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 13\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: function onClick() {\n                  return handleIncrease(iteminstance);\n                },\n                className: styles.add1,\n                disabled: incdis,\n                children: \"+ add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 13\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"align-self-center mr-3\",\n              children: [\"price: \", formatNumber(price)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"align-self-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: function onClick() {\n                  return handleDelIns(iteminstance);\n                },\n                className: \"btn btn-outline-primary btn-sm disable \",\n                disabled: dltdis,\n                children: \"Delete Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 13\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 11\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, _this)\n        }, iteminstance._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 12\n        }, _this);\n      }), (!instances || instances.length == 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-3\",\n          children: [\"Total count: \", itemCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-3\",\n          children: [\"Total price: \", formatNumber(total)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/cart/tocheckout\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn btn-success\",\n            children: \"check out \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ToCheckOut, \"/l5UBqSpR55BLv4ruFvIPZFzbu0=\", false, function () {\n  return [useUser, useUserDispatch, useIns, useInsDispatch, useInitialDispatch, useInitial];\n});\n\n_c = ToCheckOut;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToCheckOut\");","map":{"version":3,"sources":["/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/pages/cart/tocheckout.js"],"names":["useEffect","Link","Layout","CartInstances","useUserDispatch","useUser","useIns","useInsDispatch","usefunctions","useInitial","useInitialDispatch","formatNumber","ToCheckOut","temp","user","setUser","instances","itemCount","total","setInstance","setInsLen","setItemCount","setTotal","GetAllCarts","checkdb","toCheckOut","setInitial","inital","console","log","sessionStorage","getItem","Math","random","toString","replace","substr","setItem","then","handleToChk","filter","instance","check","map","iteminstance","checkEL","handleCheck","item","_id","image","title","price","styles","inputwraper1","handleDecrease","minus1","decdis","inputEL","handleCount","handlefocus","input1","quantity","handleIncrease","add1","incdis","handleDelIns","dltdis","length"],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\nimport Link from 'next/link';\nimport Layout from '../components/layout';\nimport CartInstances from '../components/CartInstances';\nimport { useUserDispatch, useUser } from './contexts/userContext';\nimport { useIns, useInsDispatch } from './contexts/CartContext';\nimport { usefunctions } from './contexts/functionContext';\nimport { useInitial, useInitialDispatch } from './contexts/initialContext';\nimport { formatNumber } from '../utils/utils';\n\nexport default function ToCheckOut() {\n  var temp;\n  const user = useUser();\n  const setUser = useUserDispatch();\n\n  const { instances, itemCount, total } = useIns();\n  const { setInstance, setInsLen, setItemCount, setTotal } = useInsDispatch();\n  const { GetAllCarts, checkdb, toCheckOut } = usefunctions();\n\n  const setInitial = useInitialDispatch();\n  const inital = useInitial();\n\n  useEffect(() => {\n    if (!inital) {\n      console.log('I am in intial');\n      //set user\n      if (sessionStorage.getItem('key')) {\n        temp = sessionStorage.getItem('key');\n      } else {\n        temp = Math.random()\n          .toString(36)\n          .replace(/[^a-z]+/g, '')\n          .substr(0, 12);\n        sessionStorage.setItem('key', temp);\n      }\n\n      setUser(temp);\n\n      user &&\n        GetAllCarts(user, setInstance, setInsLen, setItemCount, setTotal).then(\n          () => {\n            setInitial(true);\n          }\n        );\n    }\n  }, [user, itemCount]);\n\n  const handleToChk = () => {\n    toCheckOut(user, setItemCount, setTotal);\n  };\n\n  return (\n    <Layout>\n      <button onClick={checkdb}>check database</button>\n      {/* Create a card for each item */}\n      <div className='container'>\n        {console.log('instances : ', instances)}\n        {instances &&\n          instances.filter((instance)=>instance.check).map((iteminstance) =>     \n           <div key={iteminstance._id} className='row'>\n        <div className='col d-flex '>\n          <div>\n            <input\n              type='checkbox'\n              //value='true'\n              ref={checkEL}\n              defaultChecked={iteminstance.check}\n              onChange={() => handleCheck(iteminstance)}\n            />\n          </div>\n          <div>\n            <Link href='/store/[id]' as={`store/${iteminstance.item._id}`}>\n              <a className='btn btn-link btn-sm mr-2'>\n                <Image\n                  src={`/${iteminstance.item.image}`}\n                  height={70}\n                  width={70}\n                />\n              </a>\n            </Link>\n          </div>\n          <div className='align-self-center mr-2'>\n            <Link href='/store/[id]' as={`store/${iteminstance.item._id}`}>\n              <a className='btn btn-link btn-sm  '>{iteminstance.item.title}</a>\n            </Link>\n          </div>\n\n          <div className=' align-self-center mr-2'>\n            unit price: {formatNumber(iteminstance.item.price)}\n          </div>\n\n          <div className={styles.inputwraper1}>\n            <button\n              onClick={() => handleDecrease(iteminstance)}\n              className={styles.minus1}\n              disabled={decdis}\n            >\n              - minus\n            </button>\n            <input\n              type='text'\n              ref={inputEL}\n              onInput={handleCount}\n              onBlur={handlefocus}\n              //onChange={handleCount}\n              className={styles.input1}\n              defaultValue={iteminstance.quantity}\n            />\n            <button\n              onClick={() => handleIncrease(iteminstance)}\n              className={styles.add1}\n              disabled={incdis}\n            >\n              + add\n            </button>\n          </div>\n          <div className='align-self-center mr-3'>\n            price: {formatNumber(price)}\n          </div>\n          <div className='align-self-center'>\n            <button\n              onClick={() => handleDelIns(iteminstance)}\n              className='btn btn-outline-primary btn-sm disable '\n              disabled={dltdis}\n            >\n              Delete Item\n            </button>\n          </div>\n        </div>\n      </div>)}\n        {(!instances || instances.length == 0) && <div>No items</div>}\n        <div className='row'>\n          <div className='mr-3'>Total count: {itemCount}</div>\n          <div className='mr-3'>Total price: {formatNumber(total)}</div>\n\n          <Link href='/cart/tocheckout'>\n                <a className='btn btn-success'>check out </a>\n              </Link>\n        </div>\n      </div>\n      <footer></footer>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}