{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useEffect, useState } from 'react';\nimport { useInsDispatch, useIns } from '../pages/contexts/CartContext';\nimport { useUser } from '../pages/contexts/userContext';\nimport { usefunctions } from '../pages/contexts/functionContext';\nimport { formatNumber } from '../utils/utils';\nexport default function ItemsInIndex(_ref) {\n  _s2();\n\n  var item = _ref.item;\n\n  //const { dispatch } = useInsDispatch();\n  var _usefunctions = usefunctions(),\n      AddToCart = _usefunctions.AddToCart;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      busy = _useState2[0],\n      setBusy = _useState2[1];\n\n  var _useInsDispatch = useInsDispatch(),\n      setInstance = _useInsDispatch.setInstance,\n      setInsLen = _useInsDispatch.setInsLen,\n      setItemCount = _useInsDispatch.setItemCount,\n      setTotal = _useInsDispatch.setTotal;\n\n  var _useIns = useIns(),\n      itemCount = _useIns.itemCount,\n      total = _useIns.total;\n\n  var user = useUser();\n\n  var handleIncrease = function handleIncrease(e) {\n    setBusy(true);\n    AddToCart(1, item._id, user, setInstance, setInsLen, setItemCount, setTotal).then(function () {\n      return setBusy(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: item._id\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/store/[id]\",\n    as: \"/store/\".concat(item._id)\n  }, /*#__PURE__*/React.createElement(\"a\", null, /*#__PURE__*/React.createElement(Image, {\n    src: \"/\".concat(item.image),\n    height: 300,\n    width: 300\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"item-name\"\n  }, item.title))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-left\"\n  }, \"price: \", formatNumber(item.price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right \"\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/store/[id]\",\n    as: \"/store/\".concat(item._id)\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn btn-link btn-sm \"\n  }, \"detail\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return handleIncrease(item);\n    },\n    className: \"btn btn-outline-primary btn-sm\",\n    disabled: busy\n  }, \"Add more\")))));\n}\n\n_s2(ItemsInIndex, \"F6aK4QgGxb9vi/MN7x/tPyNYdjQ=\", false, function () {\n  return [useInsDispatch, useIns, useUser];\n});\n\n_c = ItemsInIndex;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemsInIndex\");","map":{"version":3,"sources":["/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/components/itemsInIndex.js"],"names":["Link","Image","useEffect","useState","useInsDispatch","useIns","useUser","usefunctions","formatNumber","ItemsInIndex","item","AddToCart","busy","setBusy","setInstance","setInsLen","setItemCount","setTotal","itemCount","total","user","handleIncrease","e","_id","then","image","title","price"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,EAAyBC,MAAzB,QAAuC,+BAAvC;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,YAAT,QAA6B,mCAA7B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,eAAe,SAASC,YAAT,OAAgC;AAAA;;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AAC3C;AAD2C,sBAErBH,YAAY,EAFS;AAAA,MAEnCI,SAFmC,iBAEnCA,SAFmC;;AAAA,kBAGnBR,QAAQ,CAAC,KAAD,CAHW;AAAA;AAAA,MAGpCS,IAHoC;AAAA,MAG9BC,OAH8B;;AAAA,wBAKgBT,cAAc,EAL9B;AAAA,MAKnCU,WALmC,mBAKnCA,WALmC;AAAA,MAKtBC,SALsB,mBAKtBA,SALsB;AAAA,MAKXC,YALW,mBAKXA,YALW;AAAA,MAKGC,QALH,mBAKGA,QALH;;AAAA,gBAMdZ,MAAM,EANQ;AAAA,MAMnCa,SANmC,WAMnCA,SANmC;AAAA,MAMxBC,KANwB,WAMxBA,KANwB;;AAQ3C,MAAMC,IAAI,GAAGd,OAAO,EAApB;;AACA,MAAMe,cAAc,GAAG,SAAjBA,cAAiB,CAACC,CAAD,EAAO;AAC1BT,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAF,IAAAA,SAAS,CACL,CADK,EAELD,IAAI,CAACa,GAFA,EAGLH,IAHK,EAILN,WAJK,EAKLC,SALK,EAMLC,YANK,EAOLC,QAPK,CAAT,CAQEO,IARF,CAQO;AAAA,aAAMX,OAAO,CAAC,KAAD,CAAb;AAAA,KARP;AASH,GAXD;;AAaA,sBACI,uDACI;AAAK,IAAA,GAAG,EAAEH,IAAI,CAACa;AAAf,kBACI;AAAK,IAAA,SAAS,EAAC;AAAf,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,EAAE,mBAAYb,IAAI,CAACa,GAAjB;AAA3B,kBACI,4CACI,oBAAC,KAAD;AACI,IAAA,GAAG,aAAMb,IAAI,CAACe,KAAX,CADP;AAEI,IAAA,MAAM,EAAE,GAFZ;AAGI,IAAA,KAAK,EAAE;AAHX,IADJ,eAMI;AAAG,IAAA,SAAS,EAAC;AAAb,KAA0Bf,IAAI,CAACgB,KAA/B,CANJ,CADJ,CADJ,eAYI;AAAG,IAAA,SAAS,EAAC;AAAb,gBACYlB,YAAY,CAACE,IAAI,CAACiB,KAAN,CADxB,CAZJ,eAgBI;AAAK,IAAA,SAAS,EAAC;AAAf,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,EAAE,mBAAYjB,IAAI,CAACa,GAAjB;AAA3B,kBACI;AAAG,IAAA,SAAS,EAAC;AAAb,cADJ,CADJ,eAKI;AACI,IAAA,OAAO,EAAE;AAAA,aAAMF,cAAc,CAACX,IAAD,CAApB;AAAA,KADb;AAEI,IAAA,SAAS,EAAC,gCAFd;AAGI,IAAA,QAAQ,EAAEE;AAHd,gBALJ,CAhBJ,CADJ,CADJ,CADJ;AAqDH;;IA3EuBH,Y;UAKuCL,c,EAC9BC,M,EAEhBC,O;;;KAROG,Y","sourcesContent":["import Link from 'next/link'\nimport Image from 'next/image'\nimport { useEffect, useState } from 'react'\nimport { useInsDispatch, useIns } from '../pages/contexts/CartContext'\nimport { useUser } from '../pages/contexts/userContext'\nimport { usefunctions } from '../pages/contexts/functionContext'\nimport { formatNumber } from '../utils/utils'\n\nexport default function ItemsInIndex({ item }) {\n    //const { dispatch } = useInsDispatch();\n    const { AddToCart } = usefunctions()\n    const [busy, setBusy] = useState(false)\n\n    const { setInstance, setInsLen, setItemCount, setTotal } = useInsDispatch()\n    const { itemCount, total } = useIns()\n\n    const user = useUser()\n    const handleIncrease = (e) => {\n        setBusy(true)\n        AddToCart(\n            1,\n            item._id,\n            user,\n            setInstance,\n            setInsLen,\n            setItemCount,\n            setTotal\n        ).then(() => setBusy(false))\n    }\n\n    return (\n        <>\n            <div key={item._id}>\n                <div className=\"card card-body\">\n                    <Link href=\"/store/[id]\" as={`/store/${item._id}`}>\n                        <a>\n                            <Image\n                                src={`/${item.image}`}\n                                height={300}\n                                width={300}\n                            />\n                            <p className=\"item-name\">{item.title}</p>\n                        </a>\n                    </Link>\n\n                    <p className=\"text-left\">\n                        price: {formatNumber(item.price)}\n                    </p>\n\n                    <div className=\"text-right \">\n                        <Link href=\"/store/[id]\" as={`/store/${item._id}`}>\n                            <a className=\"btn btn-link btn-sm \">detail</a>\n                        </Link>\n\n                        <button\n                            onClick={() => handleIncrease(item)}\n                            className=\"btn btn-outline-primary btn-sm\"\n                            disabled={busy}\n                        >\n                            Add more\n                        </button>\n                        {/*isInCart(product) && (\n                <button\n                  onClick={() => increase(product)}\n                  className='btn btn-outline-primary btn-sm'\n                >\n                  Add more\n                </button>\n              )*/}\n\n                        {/*!isInCart(product) && (\n                <button\n                  onClick={() => addProduct(product)}\n                  className='btn btn-primary btn-sm'\n                >\n                  Add to cart\n                </button>\n              )*/}\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}