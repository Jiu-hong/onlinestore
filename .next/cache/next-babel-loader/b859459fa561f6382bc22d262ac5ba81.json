{"ast":null,"code":"import mongoose from 'mongoose';\n\nvar _require = require('luxon'),\n    DateTime = _require.DateTime; //for date handling\n\n\nvar Schema = mongoose.Schema;\nvar ItemInstanceSchema = new Schema({\n  item: {\n    type: Schema.ObjectId,\n    ref: 'Item',\n    required: true\n  },\n  // Reference to the associated item.\n  user: {\n    type: String,\n    required: true\n  },\n  // Reference to the associated user.\n  //imprint: { type: String, required: true },\n  status: {\n    type: String,\n    required: true,\n    \"enum\": ['Cart', 'Buy', 'Checkout'],\n    \"default\": 'Cart'\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  check: {\n    type: Boolean,\n    \"default\": true\n  },\n  buy_date: {\n    type: Date,\n    \"default\": Date.now()\n  },\n  commenttext: {\n    type: String\n  },\n  commentimage: [{\n    type: String\n  }]\n}); // Virtual for this iteminstance object's URL.\n\nItemInstanceSchema.virtual('url').get(function () {\n  return '/auth/iteminstance/' + this._id;\n});\nItemInstanceSchema.virtual('buy_date_formatted').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toLocaleString(DateTime.DATE_MED);\n});\nItemInstanceSchema.virtual('buy_date_yyyy_mm_dd').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toISODate(); //format 'YYYY-MM-DD'\n}); // Export model.\n\nexport default mongoose.models.ItemInstance || mongoose.model('ItemInstance', ItemInstanceSchema);","map":{"version":3,"sources":["/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/models/iteminstance.js"],"names":["mongoose","require","DateTime","Schema","ItemInstanceSchema","item","type","ObjectId","ref","required","user","String","status","quantity","Number","check","Boolean","buy_date","Date","now","commenttext","commentimage","virtual","get","_id","fromJSDate","toLocaleString","DATE_MED","toISODate","models","ItemInstance","model"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;eACqBC,OAAO,CAAC,OAAD,C;IAApBC,Q,YAAAA,Q,EAA+B;;;AAEvC,IAAIC,MAAM,GAAGH,QAAQ,CAACG,MAAtB;AAEA,IAAIC,kBAAkB,GAAG,IAAID,MAAJ,CAAW;AAChCE,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEH,MAAM,CAACI,QAAf;AAAyBC,IAAAA,GAAG,EAAE,MAA9B;AAAsCC,IAAAA,QAAQ,EAAE;AAAhD,GAD0B;AAC8B;AAC9DC,EAAAA,IAAI,EAAE;AAAEJ,IAAAA,IAAI,EAAEK,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAF0B;AAEQ;AACxC;AACAG,EAAAA,MAAM,EAAE;AACJN,IAAAA,IAAI,EAAEK,MADF;AAEJF,IAAAA,QAAQ,EAAE,IAFN;AAGJ,YAAM,CAAC,MAAD,EAAS,KAAT,EAAgB,UAAhB,CAHF;AAIJ,eAAS;AAJL,GAJwB;AAUhCI,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,MAAR;AAAgBL,IAAAA,QAAQ,EAAE;AAA1B,GAVsB;AAWhCM,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEU,OAAR;AAAiB,eAAS;AAA1B,GAXyB;AAYhCC,EAAAA,QAAQ,EAAE;AAAEX,IAAAA,IAAI,EAAEY,IAAR;AAAc,eAASA,IAAI,CAACC,GAAL;AAAvB,GAZsB;AAahCC,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEK;AAAR,GAbmB;AAchCU,EAAAA,YAAY,EAAE,CAAC;AAAEf,IAAAA,IAAI,EAAEK;AAAR,GAAD;AAdkB,CAAX,CAAzB,C,CAiBA;;AACAP,kBAAkB,CAACkB,OAAnB,CAA2B,KAA3B,EAAkCC,GAAlC,CAAsC,YAAY;AAC9C,SAAO,wBAAwB,KAAKC,GAApC;AACH,CAFD;AAIApB,kBAAkB,CAACkB,OAAnB,CAA2B,oBAA3B,EAAiDC,GAAjD,CAAqD,YAAY;AAC7D,SAAOrB,QAAQ,CAACuB,UAAT,CAAoB,KAAKR,QAAzB,EAAmCS,cAAnC,CAAkDxB,QAAQ,CAACyB,QAA3D,CAAP;AACH,CAFD;AAIAvB,kBAAkB,CAACkB,OAAnB,CAA2B,qBAA3B,EAAkDC,GAAlD,CAAsD,YAAY;AAC9D,SAAOrB,QAAQ,CAACuB,UAAT,CAAoB,KAAKR,QAAzB,EAAmCW,SAAnC,EAAP,CAD8D,CACP;AAC1D,CAFD,E,CAIA;;AACA,eAAe5B,QAAQ,CAAC6B,MAAT,CAAgBC,YAAhB,IACX9B,QAAQ,CAAC+B,KAAT,CAAe,cAAf,EAA+B3B,kBAA/B,CADJ","sourcesContent":["import mongoose from 'mongoose';\nconst { DateTime } = require('luxon'); //for date handling\n\nvar Schema = mongoose.Schema;\n\nvar ItemInstanceSchema = new Schema({\n    item: { type: Schema.ObjectId, ref: 'Item', required: true }, // Reference to the associated item.\n    user: { type: String, required: true }, // Reference to the associated user.\n    //imprint: { type: String, required: true },\n    status: {\n        type: String,\n        required: true,\n        enum: ['Cart', 'Buy', 'Checkout'],\n        default: 'Cart',\n    },\n    quantity: { type: Number, required: true },\n    check: { type: Boolean, default: true },\n    buy_date: { type: Date, default: Date.now() },\n    commenttext: { type: String },\n    commentimage: [{ type: String }],\n});\n\n// Virtual for this iteminstance object's URL.\nItemInstanceSchema.virtual('url').get(function () {\n    return '/auth/iteminstance/' + this._id;\n});\n\nItemInstanceSchema.virtual('buy_date_formatted').get(function () {\n    return DateTime.fromJSDate(this.buy_date).toLocaleString(DateTime.DATE_MED);\n});\n\nItemInstanceSchema.virtual('buy_date_yyyy_mm_dd').get(function () {\n    return DateTime.fromJSDate(this.buy_date).toISODate(); //format 'YYYY-MM-DD'\n});\n\n// Export model.\nexport default mongoose.models.ItemInstance ||\n    mongoose.model('ItemInstance', ItemInstanceSchema);\n"]},"metadata":{},"sourceType":"module"}