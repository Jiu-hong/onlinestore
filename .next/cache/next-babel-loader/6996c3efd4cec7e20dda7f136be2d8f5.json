{"ast":null,"code":"\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nexports.__esModule = true;\nexports.searchParamsToUrlQuery = searchParamsToUrlQuery;\nexports.urlQueryToSearchParams = urlQueryToSearchParams;\nexports.assign = assign;\n\nfunction searchParamsToUrlQuery(searchParams) {\n  var query = {};\n  searchParams.forEach(function (value, key) {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value;\n    } else if (Array.isArray(query[key])) {\n      ;\n      query[key].push(value);\n    } else {\n      query[key] = [query[key], value];\n    }\n  });\n  return query;\n}\n\nfunction stringifyUrlQueryParam(param) {\n  if (typeof param === 'string' || typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {\n    return String(param);\n  } else {\n    return '';\n  }\n}\n\nfunction urlQueryToSearchParams(urlQuery) {\n  var result = new URLSearchParams();\n  Object.entries(urlQuery).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    if (Array.isArray(value)) {\n      value.forEach(function (item) {\n        return result.append(key, stringifyUrlQueryParam(item));\n      });\n    } else {\n      result.set(key, stringifyUrlQueryParam(value));\n    }\n  });\n  return result;\n}\n\nfunction assign(target) {\n  for (var _len = arguments.length, searchParamsList = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    searchParamsList[_key - 1] = arguments[_key];\n  }\n\n  searchParamsList.forEach(function (searchParams) {\n    Array.from(searchParams.keys()).forEach(function (key) {\n      return target[\"delete\"](key);\n    });\n    searchParams.forEach(function (value, key) {\n      return target.append(key, value);\n    });\n  });\n  return target;\n}","map":{"version":3,"sources":["../../../../../next-server/lib/router/utils/querystring.ts"],"names":["query","searchParams","Array","isNaN","String","result","Object","value","item","stringifyUrlQueryParam","searchParamsList","key","target"],"mappings":";;;;;;;;;;;;;;;;;;;AAEO,SAAA,sBAAA,CAAA,YAAA,EAEW;AAChB,MAAMA,KAAqB,GAA3B,EAAA;AACAC,EAAAA,YAAY,CAAZA,OAAAA,CAAqB,UAAA,KAAA,EAAA,GAAA,EAAgB;AACnC,QAAI,OAAOD,KAAK,CAAZ,GAAY,CAAZ,KAAJ,WAAA,EAAuC;AACrCA,MAAAA,KAAK,CAALA,GAAK,CAALA,GAAAA,KAAAA;AADF,KAAA,MAEO,IAAIE,KAAK,CAALA,OAAAA,CAAcF,KAAK,CAAvB,GAAuB,CAAnBE,CAAJ,EAA+B;AACpC;AAAEF,MAAAA,KAAK,CAAN,GAAM,CAALA,CAAD,IAACA,CAAD,KAACA;AADG,KAAA,MAEA;AACLA,MAAAA,KAAK,CAALA,GAAK,CAALA,GAAa,CAACA,KAAK,CAAN,GAAM,CAAN,EAAbA,KAAa,CAAbA;AAEH;AARDC,GAAAA;AASA,SAAA,KAAA;AAGF;;AAAA,SAAA,sBAAA,CAAA,KAAA,EAAuD;AACrD,MACE,OAAA,KAAA,KAAA,QAAA,IACC,OAAA,KAAA,KAAA,QAAA,IAA6B,CAACE,KAAK,CADpC,KACoC,CADpC,IAEA,OAAA,KAAA,KAHF,SAAA,EAIE;AACA,WAAOC,MAAM,CAAb,KAAa,CAAb;AALF,GAAA,MAMO;AACL,WAAA,EAAA;AAEH;AAEM;;AAAA,SAAA,sBAAA,CAAA,QAAA,EAEY;AACjB,MAAMC,MAAM,GAAG,IAAf,eAAe,EAAf;AACAC,EAAAA,MAAM,CAANA,OAAAA,CAAAA,QAAAA,EAAAA,OAAAA,CAAiC,gBAAkB;AAAA;AAAA,QAAjB,GAAiB;AAAA,QAAlB,KAAkB;;AACjD,QAAIJ,KAAK,CAALA,OAAAA,CAAJ,KAAIA,CAAJ,EAA0B;AACxBK,MAAAA,KAAK,CAALA,OAAAA,CAAeC,UAAAA,IAAD;AAAA,eAAUH,MAAM,CAANA,MAAAA,CAAAA,GAAAA,EAAmBI,sBAAsB,CAAjEF,IAAiE,CAAzCF,CAAV;AAAA,OAAdE;AADF,KAAA,MAEO;AACLF,MAAAA,MAAM,CAANA,GAAAA,CAAAA,GAAAA,EAAgBI,sBAAsB,CAAtCJ,KAAsC,CAAtCA;AAEH;AANDC,GAAAA;AAOA,SAAA,MAAA;AAGK;;AAAA,SAAA,MAAA,CAAA,MAAA,EAGY;AAAA,oCAHZ,gBAGY;AAHZ,IAAA,gBAGY;AAAA;;AACjBI,EAAAA,gBAAgB,CAAhBA,OAAAA,CAA0BT,UAAAA,YAAD,EAAkB;AACzCC,IAAAA,KAAK,CAALA,IAAAA,CAAWD,YAAY,CAAvBC,IAAWD,EAAXC,EAAAA,OAAAA,CAAyCS,UAAAA,GAAD;AAAA,aAASC,MAAAA,UAAAA,CAAjDV,GAAiDU,CAAT;AAAA,KAAxCV;AACAD,IAAAA,YAAY,CAAZA,OAAAA,CAAqB,UAAA,KAAA,EAAA,GAAA;AAAA,aAAgBW,MAAM,CAANA,MAAAA,CAAAA,GAAAA,EAArCX,KAAqCW,CAAhB;AAAA,KAArBX;AAFFS,GAAAA;AAIA,SAAA,MAAA;AACD","sourcesContent":["import { ParsedUrlQuery } from 'querystring'\n\nexport function searchParamsToUrlQuery(\n  searchParams: URLSearchParams\n): ParsedUrlQuery {\n  const query: ParsedUrlQuery = {}\n  searchParams.forEach((value, key) => {\n    if (typeof query[key] === 'undefined') {\n      query[key] = value\n    } else if (Array.isArray(query[key])) {\n      ;(query[key] as string[]).push(value)\n    } else {\n      query[key] = [query[key] as string, value]\n    }\n  })\n  return query\n}\n\nfunction stringifyUrlQueryParam(param: string): string {\n  if (\n    typeof param === 'string' ||\n    (typeof param === 'number' && !isNaN(param)) ||\n    typeof param === 'boolean'\n  ) {\n    return String(param)\n  } else {\n    return ''\n  }\n}\n\nexport function urlQueryToSearchParams(\n  urlQuery: ParsedUrlQuery\n): URLSearchParams {\n  const result = new URLSearchParams()\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach((item) => result.append(key, stringifyUrlQueryParam(item)))\n    } else {\n      result.set(key, stringifyUrlQueryParam(value))\n    }\n  })\n  return result\n}\n\nexport function assign(\n  target: URLSearchParams,\n  ...searchParamsList: URLSearchParams[]\n): URLSearchParams {\n  searchParamsList.forEach((searchParams) => {\n    Array.from(searchParams.keys()).forEach((key) => target.delete(key))\n    searchParams.forEach((value, key) => target.append(key, value))\n  })\n  return target\n}\n"]},"metadata":{},"sourceType":"script"}