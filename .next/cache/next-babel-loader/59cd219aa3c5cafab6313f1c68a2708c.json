{"ast":null,"code":"import mongoose from 'mongoose';\n\nvar _require = require('luxon'),\n    DateTime = _require.DateTime; //for date handling\n\n\nvar Schema = mongoose.Schema;\nvar ItemInstanceSchema = new Schema({\n  item: {\n    type: Schema.ObjectId,\n    ref: 'Item',\n    required: true\n  },\n  // Reference to the associated item.\n  user: {\n    type: String,\n    required: true\n  },\n  // Reference to the associated user.\n  //imprint: { type: String, required: true },\n  status: {\n    type: String,\n    required: true,\n    \"enum\": ['Cart', 'Buy'],\n    \"default\": 'Cart'\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  check: {\n    type: Boolean,\n    \"default\": true\n  },\n  buy_date: {\n    type: Date,\n    \"default\": Date.now\n  },\n  order: {\n    type: String\n  }\n}); // Virtual for this iteminstance object's URL.\n\nItemInstanceSchema.virtual('url').get(function () {\n  return '/auth/iteminstance/' + this._id;\n});\nItemInstanceSchema.virtual('buy_date_formatted').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toLocaleString(DateTime.DATE_MED);\n});\nItemInstanceSchema.virtual('buy_date_yyyy_mm_dd').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toISODate(); //format 'YYYY-MM-DD'\n}); // Export model.\n\nexport default mongoose.models.ItemInstance || mongoose.model('ItemInstance', ItemInstanceSchema);","map":{"version":3,"sources":["/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/models/iteminstance.js"],"names":["mongoose","require","DateTime","Schema","ItemInstanceSchema","item","type","ObjectId","ref","required","user","String","status","quantity","Number","check","Boolean","buy_date","Date","now","order","virtual","get","_id","fromJSDate","toLocaleString","DATE_MED","toISODate","models","ItemInstance","model"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;eACqBC,OAAO,CAAC,OAAD,C;IAApBC,Q,YAAAA,Q,EAA+B;;;AAEvC,IAAIC,MAAM,GAAGH,QAAQ,CAACG,MAAtB;AAEA,IAAIC,kBAAkB,GAAG,IAAID,MAAJ,CAAW;AAClCE,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEH,MAAM,CAACI,QAAf;AAAyBC,IAAAA,GAAG,EAAE,MAA9B;AAAsCC,IAAAA,QAAQ,EAAE;AAAhD,GAD4B;AAC4B;AAC9DC,EAAAA,IAAI,EAAE;AAAEJ,IAAAA,IAAI,EAAEK,MAAR;AAAgBF,IAAAA,QAAQ,EAAE;AAA1B,GAF4B;AAEM;AACxC;AACAG,EAAAA,MAAM,EAAE;AACNN,IAAAA,IAAI,EAAEK,MADA;AAENF,IAAAA,QAAQ,EAAE,IAFJ;AAGN,YAAM,CAAC,MAAD,EAAS,KAAT,CAHA;AAIN,eAAS;AAJH,GAJ0B;AAUlCI,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEQ,MAAR;AAAgBL,IAAAA,QAAQ,EAAE;AAA1B,GAVwB;AAWlCM,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEU,OAAR;AAAiB,eAAS;AAA1B,GAX2B;AAYlCC,EAAAA,QAAQ,EAAE;AAAEX,IAAAA,IAAI,EAAEY,IAAR;AAAc,eAASA,IAAI,CAACC;AAA5B,GAZwB;AAalCC,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEK;AAAR;AAb2B,CAAX,CAAzB,C,CAgBA;;AACAP,kBAAkB,CAACiB,OAAnB,CAA2B,KAA3B,EAAkCC,GAAlC,CAAsC,YAAY;AAChD,SAAO,wBAAwB,KAAKC,GAApC;AACD,CAFD;AAIAnB,kBAAkB,CAACiB,OAAnB,CAA2B,oBAA3B,EAAiDC,GAAjD,CAAqD,YAAY;AAC/D,SAAOpB,QAAQ,CAACsB,UAAT,CAAoB,KAAKP,QAAzB,EAAmCQ,cAAnC,CAAkDvB,QAAQ,CAACwB,QAA3D,CAAP;AACD,CAFD;AAIAtB,kBAAkB,CAACiB,OAAnB,CAA2B,qBAA3B,EAAkDC,GAAlD,CAAsD,YAAY;AAChE,SAAOpB,QAAQ,CAACsB,UAAT,CAAoB,KAAKP,QAAzB,EAAmCU,SAAnC,EAAP,CADgE,CACT;AACxD,CAFD,E,CAIA;;AACA,eAAe3B,QAAQ,CAAC4B,MAAT,CAAgBC,YAAhB,IACb7B,QAAQ,CAAC8B,KAAT,CAAe,cAAf,EAA+B1B,kBAA/B,CADF","sourcesContent":["import mongoose from 'mongoose';\nconst { DateTime } = require('luxon'); //for date handling\n\nvar Schema = mongoose.Schema;\n\nvar ItemInstanceSchema = new Schema({\n  item: { type: Schema.ObjectId, ref: 'Item', required: true }, // Reference to the associated item.\n  user: { type: String, required: true }, // Reference to the associated user.\n  //imprint: { type: String, required: true },\n  status: {\n    type: String,\n    required: true,\n    enum: ['Cart', 'Buy'],\n    default: 'Cart',\n  },\n  quantity: { type: Number, required: true },\n  check: { type: Boolean, default: true },\n  buy_date: { type: Date, default: Date.now },\n  order: { type: String },\n});\n\n// Virtual for this iteminstance object's URL.\nItemInstanceSchema.virtual('url').get(function () {\n  return '/auth/iteminstance/' + this._id;\n});\n\nItemInstanceSchema.virtual('buy_date_formatted').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toLocaleString(DateTime.DATE_MED);\n});\n\nItemInstanceSchema.virtual('buy_date_yyyy_mm_dd').get(function () {\n  return DateTime.fromJSDate(this.buy_date).toISODate(); //format 'YYYY-MM-DD'\n});\n\n// Export model.\nexport default mongoose.models.ItemInstance ||\n  mongoose.model('ItemInstance', ItemInstanceSchema);\n"]},"metadata":{},"sourceType":"module"}