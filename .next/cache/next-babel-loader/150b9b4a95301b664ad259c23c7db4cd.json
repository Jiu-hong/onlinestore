{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport dbConnect from '../../utils/dbConnect';\nexport default ((req, res) => {\n  Promise(new Promise((res, rej) => {\n    dbConnect();\n    console.log('I am after dbConnect');\n  })).then(() => Item.find({})).then(result => {\n    console.log('I am in result');\n    JSON.parse(JSON.stringify(result));\n  }).then(items => {\n    res.statusCode = 200;\n    res.send(items);\n  }).catch(err => {\n    new Error(err);\n  });\n  /* find all the data in our database \n    const result = await Item.find({});\n    const items = JSON.parse(JSON.stringify(result));*/\n});","map":{"version":3,"sources":["/Users/jiuhong8201/Desktop/HTML-CSS-JS-learning/A_Real_Project/my-next/pages/api/getItems.js"],"names":["dbConnect","req","res","Promise","rej","console","log","then","Item","find","result","JSON","parse","stringify","items","statusCode","send","catch","err","Error"],"mappings":"AAAA;AACA,OAAOA,SAAP,MAAsB,uBAAtB;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BC,EAAAA,OAAO,CACL,IAAIA,OAAJ,CAAY,CAACD,GAAD,EAAME,GAAN,KAAc;AACxBJ,IAAAA,SAAS;AACTK,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,GAHD,CADK,CAAP,CAMGC,IANH,CAMQ,MAAMC,IAAI,CAACC,IAAL,CAAU,EAAV,CANd,EAOGF,IAPH,CAOSG,MAAD,IAAY;AAChBL,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAK,IAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,MAAf,CAAX;AACD,GAVH,EAWGH,IAXH,CAWSO,KAAD,IAAW;AACfZ,IAAAA,GAAG,CAACa,UAAJ,GAAiB,GAAjB;AACAb,IAAAA,GAAG,CAACc,IAAJ,CAASF,KAAT;AACD,GAdH,EAeGG,KAfH,CAeUC,GAAD,IAAS;AACd,QAAIC,KAAJ,CAAUD,GAAV;AACD,GAjBH;AAmBA;AACF;AACA;AACC,CAvBD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport dbConnect from '../../utils/dbConnect';\n\nexport default (req, res) => {\n  Promise(\n    new Promise((res, rej) => {\n      dbConnect();\n      console.log('I am after dbConnect');\n    })\n  )\n    .then(() => Item.find({}))\n    .then((result) => {\n      console.log('I am in result');\n      JSON.parse(JSON.stringify(result));\n    })\n    .then((items) => {\n      res.statusCode = 200;\n      res.send(items);\n    })\n    .catch((err) => {\n      new Error(err);\n    });\n\n  /* find all the data in our database \n    const result = await Item.find({});\n    const items = JSON.parse(JSON.stringify(result));*/\n};\n"]},"metadata":{},"sourceType":"module"}